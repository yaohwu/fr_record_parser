# v1

## 数据描述

近800的用户，对于1300个模板在4月到11月，8个月内的预览记录。

## 时序分析预测和推荐

### 针对用户的历史记录，预测用户未来某个时间的预览

先简单一点，针对某一个用户：
单个用户的记录拿出来，以一天 24*60m 和预览模板为 x 轴和 y 轴，模板名称为系列作图。

应该找一些数据比较多的，我是直接随便找了，就 dirk 吧。

## 协同过滤预测和推荐

基于电影推荐的思路去做模板推荐

协同过滤电影推荐是这样的，每一个用户对电影都有一个评分，m 个用户对 n 个电影有 m*n 个评分，数据矩阵如下

| move/user | movie2 | movie3 | movie4 | ... | movieN |
| --------- | ------ | ------ | ------ | --- | ------ |
| __user1__ | 1      | 0      | 4      | ... | 3      |
| __user2__ | 2      | 3      | 0      | ... | 2      |
| __user3__ | 5      | 2      | 2      | ... | 4      |
| __...__   | ...    | ...    | ...    | ... | ...    |
| __userM__ | 5      | 2      | 2      | ... | 4      |

就有两种思路，基于用户的，或者说基于电影的。

### 基于用户的

就是依据用户对电影的评分，找到相似的用户（他们评分高的电影非常相同），那么对于用户 A 的推荐就是：找到 K 个和用户 A 非常相同的用户，将这些用户最喜欢的电影中去除掉 A 已经喜欢的，然后推荐给 A。

### 基于项目的

在电影中就是基于电影的，在我们的模板推荐里面就是基于模板的。

也是依据用户对电影的评分，找到相似的电影（喜欢他们的人群非常相同），那么对于用户 A 的推荐就是：找到 K 个用户 A 非常喜欢的电影，然后找出 和 K 个电影 最相似的 K 个电影。

基于用户的协同过滤推荐和基于项目的协同过滤推荐都是基于物品相似度的预测推荐，只是相似度度量的维度不一样，前者是从用户历史的偏好推断，而后者是基于物品本身的属性特征信息。

如果是基于协同过滤去做，那么我们需要一个用户对于模板的评分计算机制，因为我们是没有评分的，所以引入一个评分逻辑去计算一下评分。

接下来就是全部属于臆测了。

粗劣的评分逻辑：不管预览的次数，直接预览过就算加分。根据过十天的预览记录进行加分，满分十分。

有一个处理**遗忘因子**的模型 [wiki 地址](https://en.wikipedia.org/wiki/Recursive_least_squares_filter)

我们先订一个简单的规则来处理这个遗忘的因素
| over 10 | 10  | 8   | 6   | 4   | 2   | now  |
| ------- | --- | --- | --- | --- | --- | ---- |
| 0分     | 1分 | 2分 | 3分 | 4分 | 5分 | 分数 |

那么去计算分数吧。

先取一天作为now，比如，5月4号





todo 加入时间的概念，将用户的评分处理成时序的数据
